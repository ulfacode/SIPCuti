permasalahan:

agar fitur search jadi, modal edit jangan di dalam td


EDIT FOTO DAN TTD suka gagal kalo extensionnya sama

MAHASISWA
pengajuan
1. Jika include modal edit lampiran dan ttd ada di dalam form, editP tidak jalan.
2. Edit Lampiran dan ttd  berhasil tapi alert gagal
3. Edit profil: foto dan ttd ga jelas (gagal). Saat baru simpan perubahan kadang: tidak langsung muncul tapi beberapa waktu kemudian muncul
4. Edit Bukti berhasil

ADMIN
profil
1. Edit profil: foto berhasil dan ttd ga jelas (kadang gagal)
    berhasil edit tapi alert-nya gagal diedit (kalo edit berturut-turut)
2. pengajuan: detail pengajuan


footer
1. permasalahannya di tabel. Misalkan di halaman profil, ada banyak isi di dalam halaman profil, footer fleksibel
    penyelesaian: php tidak diletakkan di atas



23/9/2021
1. hapus doswal, kajur
2. Menampilkan pengajuan di user doswal dan download sk
3. Menampilkan profil di user doswal
4. Membuat edit profil doswal

24/9/2021
1. Menampilkan pengajuan di user kajur dan download sk
2. Menampilkan profil di user kajur
3. Membuat edit profil kajur

4. Menampilkan pengajuan di user wadir1
5. Menampilkan profil di user wadir1
6. Membuat edit profil wadir1
7. Membuat laporan pengajuan

8. Menampilkan pengajuan di user perpus dan download sk
9. Menampilkan profil di user perpus
10. Membuat edit profil perpus



27/9/2021
1. keuangan : profil, sk,

28/9/2021
1. Edit validasi UKT di keuangan
2. Mencoba membenarkan profil

29/9/2021
1. Mempelajari GITHUB

06/10/2021
session: 
1. wadir1 udah semua
2. mahasiswa: profil, bayar ukt, pengajuan

07/10/2021
session: 
1. kajur
2. ketua akademik
3. admin
4. doswal

08/10/2021
session: perpus dan keuangan
memperbaiki sidebar 

11/10/2021
belajar lupa password
Membuat isset harus login sebelum masuk ke suatu halaman
Membuat file logout dan membuat link logout di sidebar.php
Membuat link forgot password dan menambahkan logo PNC di halaman login

12/10/2021
coba buat lupa password

13/10/2021
membuat tampilan formulir cuti dan sk

14/10/2021
memperbaiki tampilan button
Mengubah row menjadi row_user di bagian menampilkan foto mahasiswa


15/10/2021
menambah kolom status dan verifikasi di datatable pengajuan
memperbaiki button aksi
menambah inputan alasan di edit pengajuan
memperbaiki laporan berdasarkan yang sudah selesai di setujui


16/10/2021
- Menambah pengecekan login pegawai berdasarkan status yang masih aktif 
- Memindah kolom status, no_sk, tgl_sk, upload_sk ke tb_pengajuan dan memperbaiki ERD
- Membuat logout pada halaman ketua akademik

17/10/2021
- Memperbaiki select untuk sk pengajuan di bag.keuangan dan bag.perpus berdasarkan pengajuan yg sudah selesai
- Membuat sk cuti

18/10/2021
- Membuat sk aktif


21/10/2021
- menambah nama prodi di tabel pengajuan
- memperbaiki tambah, dan edit pengajuan di user mahasiswa (pengajuan)
- memperbaiki function tambah dan edit pengajuan
- memperbaiki sk_cuti dan sk_aktif
- membuat view

24/10/2021
- membuat verifikasi

25/10/2021
- meneruskan verifikasi
- merubah select pengajuan di doswal dan kajur
- memperbaiki rule download sk di perpus dan keuangan


26/10/2021
- memperbaiki sk dan form
- memperbaiki function terima dan tolak pengajuan (menambah insert tgl)
- memperbaiki link download sk di tb_doswal, tb_kajur, perpustakaan, keuangan, mahasiswa
- modal edit: cek berkas lampiran dan ttd (mahasiswa)
- memperbaiki edit foto dan ttd, lampiran dan ttd ortu : ditambahkan uniqid() 

27/10/2021
- menambah rule harus login saat sudah login namun masuk ke halaman lain. NB: di halaman multilevel dibikin session lagi

29/10/2021
- membuat halaman multilevel
- memperbaiki foto di sidebar dan profil user

31/10/2021(belum commit)
- membuat modal untuk upload sk yg sudah jadi dan cek berkas sk
- membuat function untuk mengupload file sk
- membuat function untuk memasukkan file sk ke database
- Menambah option untuk nama prodi yang sudah dimasukin database di mahasiswa/pengajuan/index.php

1/11/2021
- Menambah kolom detail status, membuat tampilan detail status di admin/pengajuan/index.php

2/11/2021
-membuat detail status

3/11/2021
-membuat detail status
- memperbaiki aturan pengajuan, dapat mengajukan: 
    1. cuti (hanya saat pengajuan cuti kosong atau status pengajuan sebelumnya ditolak)
    2. aktif (hanya saat pengajuan izin aktif kosong atau status pengajuan sebelumnya ditolak dan pengajuan cuti tidak kosong dan status pengajuan telah selesai)

4/11/2021
1. Memperbaiki level untuk user yang dipilih di halaman multi level
2. Memperbaiki alert login
3. Memperbaiki alur untuk menampilkan sidebar yang dimiliki oleh dosen wali dan ketua jurusan
4. Menambah button untuk beralih akun
5. Memperbaiki session di sidebar untuk doswal dan kajur

8/11/2021
- menambah kolom status tb_verifikasi dan memperbaiki ERD
- Memperbaiki view v_data_doswal, v_data_kajur, v_pengajuan
- memperbaiki warna status di detail status
- membuat enable tombol form, upload sk, generate sk pengajuan hanya saat status=4 (admin)
- menambah alert jika cek berkas SK kosong
- update progres dengan pak Abda'u

9/11/2021
- Memperbaiki tampilan button di tabel aksi pengajuan mahasiswa
- menambah alert jika berkas SK kosong di tabel pengajuan mahasiswa

12/11/2021
- Menambah link href home (header.php)
- Membuat Dashboard doswal


LOADINGNYA LAMA. Misalkan, 
git restore --staged .

note:
tambah pengajuan: 
- cuti hanya satu kali, izin aktif hanya satu kali dan hanya jika ada pengajuan cuti.
- PIKIRKAN LAGI KALO udah ajuin terus ditolak: insert hanya satu kali kecuali udah sampai proses ditolak maka bisa mengajukan lagi
- sidebar: kalo foto pengguna tidak ada akan default; pake perulangan agar saat edit/tambah foto tidak perlu logout terlebih dahulu untuk menampilkan foto di sidebar


YANG HARUS DILAKUKAN:
1. pikirkan lagi rule multilevel agar masuk ke halaman sistem




if ($_SESSION['level'] == 'Dosen Wali dan Ketua Jurusan' or $_SESSION['level'] == 'Jurusan' or $_SESSION['level'] == 'Dosen Wali') {

    if ($level_halaman != 'Jurusan' or $level_halaman != 'Dosen Wali') {
        session_destroy();
        header("Location: ../../../index.php");
    }
} else {
    if ($level_halaman != $_SESSION['level']) {
        session_destroy();
        header("Location: ../../../index.php");
    }
} 


elseif ($level == "Dosen Wali dan Ketua Jurusan") { ?>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <p>
                            Dashboard
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="../profil" class="nav-link">
                        <i class="nav-icon fas fa-user"></i>
                        <p>Profil</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="../profil" class="nav-link">
                        <i class="nav-icon fas fa-user"></i>
                        <p>Profil</p>
                    </a>
                </li>
            <?php } ?>